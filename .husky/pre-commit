#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo ""
echo "ğŸ” Pre-commit checks..."
echo ""

# BÆ°á»›c 1: Kiá»ƒm tra TypeScript
echo "[1/2] Type checking..."
npm run type-check
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ TypeScript errors found. Please fix before committing."
  exit 1
fi
echo "âœ… TypeScript OK"
echo ""

# BÆ°á»›c 2: Lint vÃ  format staged files
echo "[2/2] Linting & formatting..."
npm run lint-staged
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ Lint/format failed. Please check your code."
  exit 1
fi
echo "âœ… Lint & format OK"
echo ""

echo "ğŸ‰ All checks passed!"
